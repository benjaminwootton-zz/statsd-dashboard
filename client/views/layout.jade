doctype 5
html
  head
    title= title
    link(rel='stylesheet', href='/stylesheets/style.css')
    script(type='text/javascript', src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js')
    script(type='text/javascript', src='/socket.io.js')
    script(type='text/javascript')
      var socket = io.connect('http://localhost:3001');
      socket.on('timers', function (data) {

        $('#countertable').show();
        $('#countertable').find('tbody').empty();
        for( var key in data.counters ) {
            $('#countertable').find('tbody').append('<tr><td>'+key+'</td><td>'+data.counters[key]+'</td></tr>');       
        }

        $('#timertable').show();
        $('#timertable').find('tbody').empty();
        //console.log(JSON.stringify(data.timer_data,undefined,2));
        
        for( var key in data.timer_data ) {
            timerData = data.timer_data[key]
            $('#timertable').find('tbody').append(
                '<tr><td>'+key+'</td>' + 
                '<td>'+timerData.upper+'</td>' + 
                '<td>'+timerData.lower+'</td>' + 
                '<td>'+timerData.count+'</td>' + 
                '<td>'+timerData.sum+'</td>' + 
                '<td>'+timerData.mean+'</td></tr>'
            );       
        }
      });

  body
    block content
    div#messages

    h2 Timers 

    table#timertable
        thead 
            tr
                th Key
                th Upper
                th Lower
                th Count
                th Sum
                th Mean
        tbody
        
    h2 Counters 

    table#countertable
        thead 
            tr
                th Key
                th value
        tbody
        